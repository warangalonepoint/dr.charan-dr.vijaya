<!doctype html><html lang="en" data-theme="dark"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Pharmacy Accounts — Dr. Charan Child Clinic</title>
<link rel="manifest" href="./public/manifest.webmanifest"><link rel="icon" href="./public/assets/icon-192.png">
<link rel="stylesheet" href="./styles/styles.css"><meta name="theme-color" content="#17B26A"/>
<style>
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}@media(max-width:980px){.grid{grid-template-columns:1fr}}
  .tbl{width:100%;border-collapse:collapse}.tbl th,.tbl td{padding:.5rem;border-bottom:1px solid var(--ring)}
</style></head><body>
<div class="hero-card"><img src="./public/assets/banner.png" alt="Dr. Charan Child Clinic"></div>
<div class="topbar"><button class="btn" id="themeBtn">Theme</button><button class="btn" id="clearCacheBtn">Clear Cache</button><button class="btn" id="logoutBtn">Logout</button></div>

<div class="app"><div class="page-card">
  <h2>Pharmacy — Accounts</h2>
  <div class="grid">
    <div class="page-card">
      <h3 style="margin:0">New Voucher</h3>
      <select id="type" class="in sel"><option>receipt</option><option>payment</option></select>
      <input id="amount" type="number" step=".01" class="in mono" placeholder="Amount">
      <input id="party" class="in" placeholder="Party">
      <textarea id="note" class="in" rows="2" placeholder="Note"></textarea>
      <button class="btn primary" id="saveBtn">Save</button>
    </div>
    <div class="page-card">
      <h3 style="margin:0">Vouchers</h3>
      <table class="tbl"><thead><tr><th>Date</th><th>Type</th><th>Party</th><th>Amount</th></tr></thead><tbody id="rows"></tbody></table>
    </div>
  </div>
</div></div>

<footer class="small">© 2025 Onestop Ai services. All rights Reserved</footer>

<script src="https://cdn.jsdelivr.net/npm/dexie@4/dist/dexie.min.js"></script>
<script type="module">
 import db from './scripts/db.js'; const E=id=>document.getElementById(id), rows=E('rows');
 const today=()=>new Date().toISOString().slice(0,10);
 saveBtn.onclick=async()=>{await db.vouchers.add({date:today(),type:E('type').value,amount:Number(E('amount').value||0),party:E('party').value||null,note:E('note').value||null});render()};
 async function render(){let list=await db.vouchers.toArray();list.sort((a,b)=>(b.date||'').localeCompare(a.date||''));rows.innerHTML=list.map(v=>`<tr><td>${v.date}</td><td>${v.type}</td><td>${v.party||''}</td><td>₹${(v.amount||0).toFixed(2)}</td></tr>`).join('')}
 render();
</script></body></html>